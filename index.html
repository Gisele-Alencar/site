<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Estante Solidária</title>
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin />
    <link
      rel="stylesheet"
      as="style"
      onload="this.rel='stylesheet'"
      href="https://fonts.googleapis.com/css2?display=swap&family=Noto+Sans:wght@400;500;700;900&family=Plus+Jakarta+Sans:wght@400;500;700;800"
    />
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  </head>
  <body class="bg-gradient-to-b from-pink-50 to-pink-100 font-sans min-h-screen flex flex-col items-center">
    
    <!-- Header -->
    <header class="w-full flex items-center justify-between px-4 sm:px-10 py-4 border-b border-pink-200">
      <h1 class="text-2xl sm:text-3xl font-bold text-pink-900">Estante Solidária</h1>
    </header>

    <!-- Formulário -->
    <main class="flex flex-col w-full max-w-[960px] px-4 sm:px-10 mt-6">
      <h2 class="text-2xl sm:text-3xl font-bold text-pink-900 mb-4">Register Your Book</h2>

      <div class="flex flex-col gap-4 w-full max-w-[480px] mx-auto">
        <input id="titulo" placeholder="Book Title"
          class="w-full p-4 rounded-xl bg-pink-50 text-pink-900 placeholder-pink-400 h-14 focus:outline-none focus:ring-2 focus:ring-pink-300 transition"/>
        <input id="estilo" placeholder="Book Style (e.g., Fiction, Children, Technical)"
          class="w-full p-4 rounded-xl bg-pink-50 text-pink-900 placeholder-pink-400 h-14 focus:outline-none focus:ring-2 focus:ring-pink-300 transition"/>
        <input id="doador" placeholder="Donor Name"
          class="w-full p-4 rounded-xl bg-pink-50 text-pink-900 placeholder-pink-400 h-14 focus:outline-none focus:ring-2 focus:ring-pink-300 transition"/>
      </div>

      <div class="flex justify-center mt-4">
        <button id="cadastrar-btn"
          class="w-full max-w-[480px] bg-pink-500 text-white font-bold py-3 rounded-xl hover:scale-105 transition-transform shadow-lg">
          Register Book
        </button>
      </div>

      <h2 class="text-xl sm:text-2xl font-bold text-pink-900 mt-8 mb-4">Registered Books</h2>

      <!-- Container de livros -->
      <div id="livros-container" class="grid gap-4 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4"></div>
    </main>

    <!-- JavaScript -->
    <script>
      const cadastrarBtn = document.getElementById('cadastrar-btn');
      const livrosContainer = document.getElementById('livros-container');

      let livros = [];

      cadastrarBtn.addEventListener('click', () => {
        const titulo = document.getElementById('titulo').value.trim();
        const estilo = document.getElementById('estilo').value.trim();
        const doador = document.getElementById('doador').value.trim();

        if(titulo && estilo && doador){
          livros.push({titulo, estilo, doador});
          renderLivros();
          document.getElementById('titulo').value = '';
          document.getElementById('estilo').value = '';
          document.getElementById('doador').value = '';
        } else {
          alert('Preencha todos os campos!');
        }
      });

      function renderLivros(){
        livrosContainer.innerHTML = '';
        livros.forEach((livro, idx) => {
          const card = document.createElement('div');
          card.classList.add('flex','flex-col','gap-2','p-3','bg-white','rounded-xl','shadow-lg','hover:shadow-2xl','transition-shadow');
          card.innerHTML = `
            <div class="h-32 bg-center bg-cover rounded-xl" style="background-image: url('https://via.placeholder.com/150');"></div>
            <p class="text-pink-900 font-semibold text-base sm:text-lg">${livro.titulo}</p>
            <p class="text-pink-500 text-sm sm:text-base">${livro.estilo}</p>
            <p class="text-pink-500 text-sm sm:text-base">Donor: ${livro.doador}</p>
            <button class="reservar-btn bg-pink-500 text-white font-bold py-1 px-3 rounded-xl mt-2 hover:scale-105 transition-transform shadow"
              data-idx="${idx}">Reservar</button>
          `;
          livrosContainer.appendChild(card);
        });

        document.querySelectorAll('.reservar-btn').forEach(btn => {
          btn.addEventListener('click', (e) => {
            const idx = e.target.dataset.idx;
            alert(`Livro "${livros[idx].titulo}" reservado!`);
          });
        });
      }
    </script>
  </body>
</html>
